{ pkgs, ... }:
let
  win98se-icons = pkgs.stdenv.mkDerivation {
    name = "chicago95-icons";
    
    src = pkgs.fetchFromGitHub {
      owner = "nestoris";
      repo = "Win98SE";
      rev = "master";
      sha256 = "sha256-ixX7WAMvrw/Rwam6LNV8zz/cClwRLYuxtAMzMmwdXWk="; 
    };

    dontFixup = true;

    installPhase = ''
      mkdir -p $out/share/icons
      cp -r SE98/* $out/share/icons/
    ''; # Make sure the directory is the one that appears on git! Sometimes Icons/* sometimes SE98/* (for exmaple)
  };
in
{
  gtk = {
    enable = true;
    iconTheme = {
      name = "Win98SE";
      package = win98se-icons;
    };
  };
}

# NOTE: Color theme is set by stylix. This just sets the icon theme. 

# Old Icon Theme
# name = "Papirus-Dark";
# package = pkgs.papirus-icon-theme.override {color = "black"; };


# To find the name of the theme/icon, run this command:
# cd $(nix build nixpkgs#PACKAGE-NAME --print-out-paths --no-link)
# It'll put you in it's directory and you can ls for the correct name. 
# In case it has multiple options! YOU GOT THIS.
